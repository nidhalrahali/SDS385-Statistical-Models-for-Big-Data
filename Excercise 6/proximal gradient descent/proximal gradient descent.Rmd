---
title: "Proximal gradient descent"
author: "Yinan Zhu"
date: "October 17, 2017"
output: html_document
---

```{r}
source('~/GitHub/SDS385-course-work/Excercise 6/proximal gradient decent/functions.R')
X <- read.csv("~/GitHub/SDS385-course-work/Excercise 6/proximal gradient decent/diabetesX.csv", header=TRUE)
Y = read.csv("~/GitHub/SDS385-course-work/Excercise 6/proximal gradient decent/diabetesY.csv", header=FALSE)
X = as.matrix(X)
X = scale(X)
X=cbind(1,X)
Y = Y$V1
Y = as.vector(scale(Y))
n=length(Y)
p=ncol(X)
```
```{r}
lam=seq(from=0.001,to=0.6,by=0.005)
```
```{r}
beta0=rep(0,p)
lambda=0.001
gamma=0.1
ite=200
```

```{r}
result=prox_gd(X,Y,beta0,lambda,gamma,ite)
plot(result$targetfunction,type='l')
```
```{r}
mse=rep(0,0)
for(lambda in lam){
  result=prox_gd(X,Y,beta0,lambda,gamma,ite)
  mse=c(mse,target_function(X,Y,result$beta,0))
}
plot(mse~lam,type='l')
```


